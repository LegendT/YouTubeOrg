---
phase: 12-ux-audit
plan: 08
type: execute
wave: 2
depends_on: ["12-01"]
files_modified:
  - src/app/ml-categorisation/page.tsx
  - src/app/ml-categorisation/ml-categorisation-page.tsx
  - src/components/ml/categorisation-trigger.tsx
  - src/components/ml/progress-display.tsx
  - src/app/ml-review/page.tsx
  - src/components/ml-review/review-page.tsx
  - src/components/ml-review/review-grid.tsx
  - src/components/ml-review/review-card.tsx
  - src/components/ml-review/review-modal.tsx
  - src/components/ml-review/review-progress.tsx
  - src/components/ml-review/category-picker-dialog.tsx
  - src/components/ml-review/keyboard-hints.tsx
autonomous: true

must_haves:
  truths:
    - "ML Categorisation page uses semantic colours and standardised layout"
    - "ML Review page uses semantic colours"
    - "All ML components use Phosphor icons instead of Lucide"
    - "Review cards display correctly in dark mode"
    - "Confidence badges use semantic status colours"
    - "Empty states use EmptyState component"
    - "Loading states use Spinner component"
  artifacts:
    - path: "src/app/ml-categorisation/ml-categorisation-page.tsx"
      provides: "ML Categorisation page with semantic colours and standardised layout"
    - path: "src/components/ml-review/review-page.tsx"
      provides: "ML Review page with semantic colours and Phosphor icons"
    - path: "src/components/ml-review/review-card.tsx"
      provides: "Review card with semantic colours for dark mode"
  key_links:
    - from: "src/app/ml-review/page.tsx"
      to: "src/components/ui/empty-state.tsx"
      via: "Empty state when no ML results"
      pattern: "EmptyState"
---

<objective>
Migrate the ML Categorisation and ML Review pages with all their components to semantic colours, Phosphor icons, and standardised layout.

Purpose: ML Categorisation is a focused workflow page that needs standardised layout. ML Review is a keyboard-driven review interface that must work flawlessly in dark mode.

Output: Both ML pages and all 12 components fully migrated to semantic colours, Phosphor icons, and dark mode support.
</objective>

<execution_context>
@/Users/anthonygeorge/.claude/get-shit-done/workflows/execute-plan.md
@/Users/anthonygeorge/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-ux-audit/12-RESEARCH.md
@.planning/phases/12-ux-audit/12-01-SUMMARY.md
@src/app/ml-categorisation/ml-categorisation-page.tsx
@src/components/ml-review/review-page.tsx
@src/components/ml-review/review-card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate ML Categorisation page and components</name>
  <files>
    src/app/ml-categorisation/page.tsx
    src/app/ml-categorisation/ml-categorisation-page.tsx
    src/components/ml/categorisation-trigger.tsx
    src/components/ml/progress-display.tsx
  </files>
  <action>
    **ml-categorisation/page.tsx (18 lines):**
    1. Replace any hardcoded colours
    2. Background: `bg-background`

    **ml-categorisation-page.tsx (123 lines):**
    1. Standardise page layout to match pattern:
       - Replace `max-w-2xl mx-auto` with `mx-auto max-w-7xl px-6 py-8 space-y-8`
       - Note: this is a focused workflow page, so `max-w-2xl` could be kept for content width inside the max-w-7xl container, but the outer background should be `bg-background` full-width
       - Title: `text-2xl font-semibold tracking-tight text-foreground` (replace `text-2xl font-bold text-gray-900`)
       - Description: `text-sm text-muted-foreground` (replace `text-sm text-gray-600`)
    2. Replace ALL hardcoded colours:
       - `bg-gray-50` -> `bg-background`
       - `text-gray-900` -> `text-foreground`
       - `text-gray-600` -> `text-muted-foreground`
       - Any card backgrounds: `bg-card`
    3. Replace Lucide icons with Phosphor (Brain -> Brain)
    4. Replace `Loader2` with `<Spinner />`
    5. Add EmptyState for initial state (no categorisation run yet):
       - Icon: `Brain` from Phosphor
       - Title: "No categorisation results yet"
       - Description: "Run ML categorisation to automatically assign categories to your uncategorised videos."
       - Action: onClick to trigger categorisation

    **categorisation-trigger.tsx (86 lines):**
    1. Replace Lucide icons with Phosphor
    2. Replace hardcoded colours
    3. Replace `Loader2` with `<Spinner />`
    4. Button: use appropriate shadcn Button variant

    **progress-display.tsx (29 lines):**
    1. Replace hardcoded colours
    2. Progress bar: use semantic colours (`bg-primary` for fill)
  </action>
  <verify>
    Run `npm run build`. Grep all 4 files for Lucide imports and hardcoded colours.
  </verify>
  <done>
    ML Categorisation page uses standardised layout with semantic colours. All 4 components use Phosphor icons and semantic tokens. Empty state uses EmptyState component. Loading uses Spinner.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate ML Review page and all review components</name>
  <files>
    src/app/ml-review/page.tsx
    src/components/ml-review/review-page.tsx
    src/components/ml-review/review-grid.tsx
    src/components/ml-review/review-card.tsx
    src/components/ml-review/review-modal.tsx
    src/components/ml-review/review-progress.tsx
    src/components/ml-review/category-picker-dialog.tsx
    src/components/ml-review/keyboard-hints.tsx
  </files>
  <action>
    **ml-review/page.tsx (40 lines):**
    1. Replace any hardcoded colours
    2. If there's an empty state redirect, replace with EmptyState component:
       - Icon: `ClipboardText` from Phosphor
       - Title: "No ML categorisations to review"
       - Description: "Run ML categorisation first to generate suggestions for your videos."
       - Action: `{ label: "Run Categorisation", href: "/ml-categorisation" }`

    **review-page.tsx (357 lines - main orchestrator):**
    1. Replace ALL Lucide icons with Phosphor
    2. Replace ALL hardcoded colours with semantic tokens
    3. Replace `Loader2` with `<Spinner />`
    4. Page header: standardise to `text-2xl font-semibold tracking-tight text-foreground`

    **review-grid.tsx (111 lines):**
    1. Replace hardcoded colours (grid background, focus indicators)
    2. Focus indicator: `ring-2 ring-primary`

    **review-card.tsx (109 lines):**
    1. Replace ALL hardcoded colours:
       - Card: `bg-card border-border`
       - Title: `text-foreground`
       - Channel: `text-muted-foreground`
       - Confidence badge colours: `bg-success/10 text-success` (HIGH), `bg-warning/10 text-warning` (MEDIUM), `bg-destructive/10 text-destructive` (LOW)
       - Reviewed state overlay: `opacity-75` (keep) but ensure it works in dark mode
       - Accept icon: `text-success`
       - Reject icon: `text-destructive`
    2. Replace Lucide icons (CheckCircle -> CheckCircle, XCircle -> XCircle from Phosphor)

    **review-modal.tsx (222 lines):**
    1. Replace ALL hardcoded colours
    2. Replace Lucide icons with Phosphor
    3. YouTube embed: ensure container works in dark mode
    4. Action buttons: Accept = `bg-success text-success-foreground`, Reject = Button variant="destructive"
    5. Navigation arrows: Phosphor CaretLeft/CaretRight

    **review-progress.tsx (65 lines):**
    1. Replace hardcoded colours
    2. Progress bar: semantic colours
    3. Filter buttons: active state with semantic accent colours

    **category-picker-dialog.tsx (86 lines):**
    1. Replace hardcoded colours
    2. Category list: `bg-card`, `hover:bg-accent`
    3. Replace any Lucide icons

    **keyboard-hints.tsx (33 lines):**
    1. Replace hardcoded colours
    2. Kbd elements: `bg-muted border-border text-muted-foreground`
  </action>
  <verify>
    Run `npm run build`. Grep all 8 files for Lucide imports and hardcoded colours.
  </verify>
  <done>
    All 8 ML Review components use Phosphor icons and semantic colours. Review cards display correctly in dark mode. Confidence badges use semantic status colours. Empty states use EmptyState component.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. Zero Lucide imports across all 12 files
3. Zero hardcoded colour classes across all 12 files
4. ML Categorisation uses standardised layout
5. Review cards use semantic confidence colours
6. Empty states use EmptyState component
</verification>

<success_criteria>
Both ML pages and all 12 components fully migrated to semantic colours and Phosphor icons. Standardised layouts applied. Empty states and loading states use shared components. All work correctly in dark mode.
</success_criteria>

<output>
After completion, create `.planning/phases/12-ux-audit/12-08-SUMMARY.md`
</output>
