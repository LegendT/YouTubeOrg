---
phase: 12-ux-audit
plan: 05
type: execute
wave: 2
depends_on: ["12-01"]
files_modified:
  - src/components/analysis/final-review.tsx
  - src/components/analysis/split-wizard.tsx
  - src/components/analysis/duplicate-resolver.tsx
  - src/components/analysis/video-assignment-dialog.tsx
  - src/components/analysis/manual-adjustments.tsx
  - src/components/analysis/merge-categories-dialog.tsx
  - src/components/analysis/rename-category-dialog.tsx
  - src/components/analysis/delete-category-dialog.tsx
autonomous: true

must_haves:
  truths:
    - "All analysis dialogs use semantic colours â€” work in both light and dark modes"
    - "All analysis dialogs use Phosphor icons instead of Lucide"
    - "Dialog backgrounds use bg-card/bg-background, not bg-white"
    - "Final review dialog works in dark mode"
    - "Split wizard works in dark mode"
    - "Duplicate resolver works in dark mode"
  artifacts:
    - path: "src/components/analysis/final-review.tsx"
      provides: "Final review dialog with semantic colours and Phosphor icons"
    - path: "src/components/analysis/split-wizard.tsx"
      provides: "Split wizard with semantic colours and Phosphor icons"
    - path: "src/components/analysis/duplicate-resolver.tsx"
      provides: "Duplicate resolver with semantic colours and Phosphor icons"
  key_links: []
---

<objective>
Migrate all analysis dialog components and large secondary components to semantic colours and Phosphor icons.

Purpose: These are the interactive dialog overlays and complex sub-components of the analysis workflow. They must work correctly in dark mode since dialogs overlay the page content.

Output: All analysis dialogs and secondary components using semantic colours, Phosphor icons, and dark mode support.
</objective>

<execution_context>
@/Users/anthonygeorge/.claude/get-shit-done/workflows/execute-plan.md
@/Users/anthonygeorge/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-ux-audit/12-RESEARCH.md
@.planning/phases/12-ux-audit/12-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate large dialog/wizard components</name>
  <files>
    src/components/analysis/final-review.tsx
    src/components/analysis/split-wizard.tsx
    src/components/analysis/duplicate-resolver.tsx
    src/components/analysis/video-assignment-dialog.tsx
    src/components/analysis/manual-adjustments.tsx
  </files>
  <action>
    For each of these 5 large components (337-567 lines each), read and systematically replace:

    1. **Replace ALL Lucide icon imports with Phosphor equivalents.** Common patterns:
       - `Check` -> `Check`, `X` -> `X`, `Plus` -> `Plus`
       - `ChevronRight`/`ChevronLeft` -> `CaretRight`/`CaretLeft`
       - `Loader2` -> replace with `<Spinner />` from `@/components/ui/spinner`
       - `ArrowRight` -> `ArrowRight`, `Trash2` -> `Trash`
       - `AlertTriangle` -> `Warning`, `Info` -> `Info`
       - Map any other Lucide icons to their closest Phosphor equivalent

    2. **Replace ALL hardcoded colours with semantic tokens:**
       - `bg-white` -> `bg-card`
       - `bg-gray-50` -> `bg-muted`
       - `bg-gray-100` -> `bg-muted`
       - `text-gray-900` -> `text-foreground`
       - `text-gray-700` -> `text-foreground`
       - `text-gray-600` -> `text-muted-foreground`
       - `text-gray-500` -> `text-muted-foreground`
       - `text-gray-400` -> `text-muted-foreground/70`
       - `border-gray-200` -> `border-border`
       - `border-gray-300` -> `border-border`
       - `bg-blue-50` / `text-blue-600` -> `bg-primary/10` / `text-primary`
       - `bg-blue-600` -> `bg-primary`
       - `bg-green-50` / `text-green-600` -> `bg-success/10` / `text-success`
       - `bg-red-50` / `text-red-600` -> `bg-destructive/10` / `text-destructive`
       - `bg-amber-50` / `text-amber-600` -> `bg-warning/10` / `text-warning`

    3. **Replace any `Loader2` spinner with `<Spinner />`** from `@/components/ui/spinner`

    4. **Ensure Dialog content areas use semantic colours:**
       - Dialog overlay is handled by shadcn Dialog (Radix) -- no changes needed
       - Dialog content: `bg-card` (shadcn Dialog default should be fine, but verify internal sections)
       - Internal dividers: `border-border`
       - Internal scroll areas: `bg-muted/50` for subtle differentiation

    5. **Form inputs in dialogs:** If using raw `<input>` or `<select>`, replace background colours and border colours with semantic tokens. Full shadcn component migration happens in a later plan.
  </action>
  <verify>
    Run `npm run build`. Grep all 5 files for Lucide imports and hardcoded colours.
  </verify>
  <done>
    All 5 large analysis components use Phosphor icons and semantic colours. Zero hardcoded colours. Zero Lucide imports. Dialogs render correctly with dark-mode-compatible colours.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate smaller dialog components</name>
  <files>
    src/components/analysis/merge-categories-dialog.tsx
    src/components/analysis/rename-category-dialog.tsx
    src/components/analysis/delete-category-dialog.tsx
  </files>
  <action>
    For each of these 3 dialog components (126-223 lines each):

    1. Replace ALL Lucide icon imports with Phosphor equivalents
    2. Replace ALL hardcoded colours with semantic tokens (same mapping as Task 1)
    3. Replace `Loader2` with `<Spinner />`
    4. Ensure dialog backgrounds, text, and borders use semantic tokens
    5. Destructive actions (delete): ensure destructive button variant is used
    6. Confirm dialog patterns: ensure consistent with shadcn Dialog styling
  </action>
  <verify>
    Run `npm run build`. Grep all 3 files for Lucide imports and hardcoded colours.
  </verify>
  <done>
    All 3 dialog components use Phosphor icons and semantic colours. Zero hardcoded colours. Zero Lucide imports.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. Zero Lucide imports across all 8 files
3. Zero hardcoded colour classes across all 8 files
4. All dialogs use bg-card for backgrounds, not bg-white
</verification>

<success_criteria>
All analysis dialogs and large secondary components fully migrated to Phosphor icons and semantic colours. All work correctly in dark mode.
</success_criteria>

<output>
After completion, create `.planning/phases/12-ux-audit/12-05-SUMMARY.md`
</output>
