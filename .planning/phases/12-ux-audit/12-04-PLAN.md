---
phase: 12-ux-audit
plan: 04
type: execute
wave: 2
depends_on: ["12-01"]
files_modified:
  - src/app/analysis/page.tsx
  - src/components/analysis/analysis-dashboard.tsx
  - src/components/analysis/category-list.tsx
  - src/components/analysis/category-detail.tsx
  - src/components/analysis/summary-card.tsx
  - src/components/analysis/batch-operations.tsx
autonomous: true

must_haves:
  truths:
    - "Analysis page uses semantic colours — works in both light and dark modes"
    - "Analysis dashboard uses Phosphor icons instead of Lucide"
    - "Category list uses semantic colours for backgrounds, text, borders, and status indicators"
    - "Category detail panel uses semantic colours"
    - "Summary card uses semantic colours"
    - "Batch operations toolbar uses semantic colours and Phosphor icons"
  artifacts:
    - path: "src/components/analysis/analysis-dashboard.tsx"
      provides: "Analysis dashboard with semantic colours and Phosphor icons"
      contains: "@phosphor-icons/react"
    - path: "src/components/analysis/category-list.tsx"
      provides: "Category list with semantic colours"
  key_links:
    - from: "src/app/analysis/page.tsx"
      to: "src/components/analysis/analysis-dashboard.tsx"
      via: "Page renders AnalysisDashboard"
      pattern: "AnalysisDashboard"
---

<objective>
Migrate the analysis page core structure (dashboard, category list, detail panel, summary card, batch operations) to semantic colours and Phosphor icons.

Purpose: The analysis page is the most complex page with 959-line dashboard and 678-line category list. These core structural components define the visual foundation of the analysis workflow.

Output: Analysis core structure with consistent semantic colours, Phosphor icons, and dark mode support.
</objective>

<execution_context>
@/Users/anthonygeorge/.claude/get-shit-done/workflows/execute-plan.md
@/Users/anthonygeorge/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-ux-audit/12-RESEARCH.md
@.planning/phases/12-ux-audit/12-01-SUMMARY.md
@src/app/analysis/page.tsx
@src/components/analysis/analysis-dashboard.tsx
@src/components/analysis/category-list.tsx
@src/components/analysis/category-detail.tsx
@src/components/analysis/summary-card.tsx
@src/components/analysis/batch-operations.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate analysis-dashboard.tsx and analysis page</name>
  <files>
    src/app/analysis/page.tsx
    src/components/analysis/analysis-dashboard.tsx
  </files>
  <action>
    These are the two largest structural files. Read each and systematically replace:

    **analysis/page.tsx:**
    1. Replace page-level container to use standardised pattern (the analysis page uses `container mx-auto` -- this is a full-bleed split-panel page, so keep wider layout but standardise to `bg-background`)
    2. Replace any hardcoded colours with semantic tokens
    3. Replace any Lucide imports with Phosphor equivalents

    **analysis-dashboard.tsx (959 lines -- the main orchestrator):**
    1. Replace ALL Lucide icon imports with Phosphor equivalents. Common icons in analysis:
       - `Check` -> `Check`, `X` -> `X`, `Plus` -> `Plus`
       - `Merge` -> `GitMerge`, `Trash2` -> `Trash`
       - `Edit` -> `PencilSimple`, `FolderOpen` -> `FolderOpen`
       - `ArrowUpDown` -> `ArrowsDownUp`, `Filter` -> `Funnel`
       - `ChevronDown`/`ChevronUp` -> `CaretDown`/`CaretUp`
       - `ChevronRight`/`ChevronLeft` -> `CaretRight`/`CaretLeft`
       - `Loader2` -> replace with `Spinner` component from `@/components/ui/spinner`
       - Map any other Lucide icons to closest Phosphor equivalent
    2. Replace ALL hardcoded colours systematically:
       - Search for `bg-white`, `bg-gray-`, `text-gray-`, `border-gray-`, `bg-blue-`, `text-blue-`, `bg-green-`, `text-green-`, `bg-red-`, `text-red-`, `bg-yellow-`, `text-yellow-`, `bg-amber-`, `text-amber-`
       - Apply RESEARCH.md mapping for each occurrence
       - For status colours (approved=green, rejected=red, pending=blue/gray):
         - Green: `text-success bg-success/10`
         - Red: `text-destructive bg-destructive/10`
         - Blue/info: `text-info bg-info/10`
         - Amber/warning: `text-warning bg-warning/10`
    3. Standardise the page header section (title, description) to match the standard pattern
    4. Replace any `Loader2` spinners with `<Spinner />` component
    5. Ensure resizable panel borders use `border-border`
  </action>
  <verify>
    Run `npm run build`. Grep for Lucide imports and hardcoded colours in both files.
  </verify>
  <done>
    analysis-dashboard.tsx and analysis/page.tsx use Phosphor icons, semantic colour tokens, and Spinner component. Zero hardcoded colours. Zero Lucide imports.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate category-list, category-detail, summary-card, and batch-operations</name>
  <files>
    src/components/analysis/category-list.tsx
    src/components/analysis/category-detail.tsx
    src/components/analysis/summary-card.tsx
    src/components/analysis/batch-operations.tsx
  </files>
  <action>
    For each component, read the file and systematically replace:

    **category-list.tsx (678 lines):**
    1. Replace ALL Lucide icons with Phosphor equivalents
    2. Replace ALL hardcoded colours with semantic tokens
    3. The category list has coloured left borders for status — these should use semantic status colours:
       - Approved status border: `border-l-success` (define as `border-l-[var(--success)]` if Tailwind token not available)
       - Rejected: `border-l-destructive`
       - Pending: `border-l-border` or `border-l-muted-foreground`
    4. List item hover states: `hover:bg-accent`
    5. Selected item: `bg-accent` or `bg-primary/5`
    6. Filter/sort controls: semantic colours
    7. Replace any `Loader2` with `<Spinner />`

    **category-detail.tsx (369 lines):**
    1. Replace Lucide icons with Phosphor
    2. Replace hardcoded colours with semantic tokens
    3. Video list items: `bg-card`, `border-border`, `text-foreground`
    4. Metadata text: `text-muted-foreground`

    **summary-card.tsx (35 lines):**
    1. Replace any hardcoded colours
    2. Card: `bg-card border border-border`

    **batch-operations.tsx (163 lines):**
    1. Replace Lucide icons with Phosphor
    2. Replace hardcoded colours
    3. Toolbar: sticky positioning with `bg-card/95 backdrop-blur-sm border-b border-border`
    4. Action buttons: use appropriate Button variants (destructive for reject, default for approve)
  </action>
  <verify>
    Run `npm run build`. Grep all four files for Lucide imports and hardcoded colours.
  </verify>
  <done>
    All four components use Phosphor icons and semantic colours. Category list status borders use semantic status tokens. No hardcoded colours remain.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. Zero Lucide imports across all 6 files
3. Zero hardcoded colour classes across all 6 files
4. Category list status borders use semantic tokens
5. Batch operations toolbar uses backdrop-blur and semantic colours
</verification>

<success_criteria>
Analysis core structure (dashboard, category list, detail, summary, batch ops) fully migrated to Phosphor icons and semantic colours. Works correctly in both light and dark modes.
</success_criteria>

<output>
After completion, create `.planning/phases/12-ux-audit/12-04-SUMMARY.md`
</output>
