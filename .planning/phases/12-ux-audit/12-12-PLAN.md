---
phase: 12-ux-audit
plan: 12
type: execute
wave: 4
depends_on: ["12-10", "12-11"]
files_modified:
  - src/components/navigation.tsx
  - src/components/videos/video-grid.tsx
  - src/components/videos/video-card.tsx
  - src/components/videos/category-sidebar.tsx
  - src/components/ml-review/review-grid.tsx
  - src/components/ml-review/review-card.tsx
  - .planning/phases/12-ux-audit/12-UX-AUDIT.md
autonomous: false

must_haves:
  truths:
    - "Navigation is usable on mobile (375px viewport) — all links accessible"
    - "Video grid displays 1-2 columns on mobile with touch-friendly card sizes"
    - "Review grid displays 1-2 columns on mobile"
    - "Category sidebar collapses to drawer/dropdown on mobile"
    - "All pages render correctly in dark mode with no visual issues"
    - "Audit document updated with all issues resolved"
    - "No Lucide imports remain anywhere in the codebase"
    - "No hardcoded colour classes remain in component files"
  artifacts:
    - path: ".planning/phases/12-ux-audit/12-UX-AUDIT.md"
      provides: "Completed UX audit document with all issues marked fixed"
  key_links: []
---

<objective>
Final polish pass: responsive design for mobile viewports, comprehensive dark mode QA, Lucide cleanup verification, and audit document completion with visual verification checkpoint.

Purpose: This is the final plan of Phase 12. It ensures responsive mobile layouts, verifies dark mode works across all pages, confirms zero remaining Lucide imports or hardcoded colours, and closes the audit loop.

Output: Mobile-responsive layouts, verified dark mode, clean audit document, visual verification from user.
</objective>

<execution_context>
@/Users/anthonygeorge/.claude/get-shit-done/workflows/execute-plan.md
@/Users/anthonygeorge/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-ux-audit/12-RESEARCH.md
@.planning/phases/12-ux-audit/12-01-SUMMARY.md
@src/components/navigation.tsx
@src/components/videos/video-grid.tsx
@src/components/ml-review/review-grid.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Mobile-responsive navigation</name>
  <files>src/components/navigation.tsx</files>
  <action>
    Enhance navigation for mobile viewports (375px - 768px):

    1. **Mobile nav layout:**
       - On small screens (below `md` breakpoint):
         - Show icons only (labels hidden via `hidden md:inline`)
         - Tighten spacing: `gap-0.5` between nav items
         - Reduce icon size to 18px on mobile
         - Logo text hidden, only logo icon visible
         - Theme toggle and sign out remain visible as icon-only
       - On medium+ screens: show full labels alongside icons (current behaviour)

    2. **If 7 items don't fit on mobile:**
       - Add horizontal scroll with `overflow-x-auto scrollbar-hide` on the nav links container
       - OR: group secondary items behind a "More" dropdown (using DropdownMenu from shadcn)
       - Preferred approach: horizontal scroll with snap points — simpler, no hidden navigation

    3. **Touch targets:**
       - Minimum touch target: 44x44px for mobile (WCAG 2.5.8)
       - Nav items: `min-h-[44px] min-w-[44px]` on mobile
       - Ensure tap targets don't overlap

    4. **Mobile nav bar:**
       - Consider `position: sticky` (should already be via border-b at top)
       - Ensure no content is hidden behind the navbar
  </action>
  <verify>
    Run `npm run build`. Resize browser to 375px width — verify all nav items are accessible (scroll or visible).
  </verify>
  <done>
    Navigation usable on 375px viewport. All links accessible via scroll or visible icons. Touch targets meet 44x44px minimum. Labels hidden on mobile, visible on md+.
  </done>
</task>

<task type="auto">
  <name>Task 2: Mobile-responsive grids and sidebar</name>
  <files>
    src/components/videos/video-grid.tsx
    src/components/videos/video-card.tsx
    src/components/videos/category-sidebar.tsx
    src/components/ml-review/review-grid.tsx
    src/components/ml-review/review-card.tsx
  </files>
  <action>
    1. **Video grid mobile adaptation:**
       - The `useColumnCount` hook uses `MIN_CARD_WIDTH = 300`. For mobile (375px viewport minus padding):
         - Available width = 375 - 48px (px-6 * 2) = 327px on mobile
         - This should produce 1 column on mobile, which is correct
       - However, if the sidebar takes space on mobile, available width could be less
       - Adjust: On mobile (below `md`), hide the sidebar and show category selector as a dropdown or Sheet above the grid
       - OR: reduce `MIN_CARD_WIDTH` to 280px for slightly better mobile fit

    2. **Category sidebar mobile:**
       - Below `md` breakpoint: hide the fixed sidebar
       - Replace with either:
         a. A `<Sheet>` (slide-out drawer from shadcn) triggered by a hamburger/filter icon
         b. A `<select>` dropdown at the top of the grid area
       - Preferred: Sheet component for richer interaction (shows category list with counts)
       - Add shadcn Sheet component if not installed: `npx shadcn@latest add sheet`
       - On `md+`: show sidebar as-is (current layout)

    3. **Video card mobile:**
       - Ensure cards are full-width on single-column mobile layout
       - Touch-friendly: larger tap targets for action buttons
       - Thumbnail: full-width, maintain aspect ratio
       - Text: may need to truncate to 2 lines on mobile

    4. **Review grid mobile:**
       - The review grid uses fixed 3-column layout. On mobile:
         - Switch to 1 column below `sm`, 2 columns at `sm`, 3 at `md+`
         - Adjust `useColumnCount` or add responsive column override
       - Review cards: similar mobile treatment as video cards

    5. **Review card mobile:**
       - Touch-friendly accept/reject areas
       - Thumbnail full-width
  </action>
  <verify>
    Run `npm run build`. Test layouts at 375px, 768px, 1024px, 1440px viewport widths conceptually.
  </verify>
  <done>
    Video grid shows 1 column on mobile with full-width cards. Category sidebar collapses to Sheet drawer on mobile. Review grid adapts to 1/2/3 columns based on viewport. Touch targets are adequate.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Phase 12 UX Audit:
    - Dark mode with theme toggle (system preference + manual toggle)
    - Phosphor Icons replacing Lucide across all components
    - Semantic colour tokens replacing all hardcoded colours
    - Standardised page layouts (max-w-7xl, consistent headings, descriptions)
    - EmptyState and Spinner shared components
    - WCAG 2.2 accessibility (focus indicators, ARIA labels, heading hierarchy)
    - Button hierarchy standardisation (shadcn variants)
    - Form input standardisation
    - Keyboard shortcuts overlay (? key)
    - Mobile-responsive navigation and grids
    - Formal UX audit document
  </what-built>
  <how-to-verify>
    1. Start the dev server: `npm run dev`
    2. **Dark mode test:**
       - Click the theme toggle in the navbar — verify light/dark switch works
       - Check every page in dark mode: Dashboard, Analysis, Videos, ML Categorisation, ML Review, Safety, Sync
       - Look for any white/light elements that don't respect dark mode
    3. **Navigation test:**
       - Verify Phosphor icons are showing (different style than before)
       - Resize to mobile width (375px) — verify nav is usable
       - Click theme toggle on mobile
    4. **Page consistency test:**
       - Visit each page — verify consistent heading sizes, spacing, and colour usage
       - Check that empty states show icon + description + CTA button (not plain text)
    5. **Keyboard test:**
       - Press ? — verify shortcut overlay appears
       - On Analysis page: press j/k to navigate categories
       - On ML Review: press Tab to navigate, a/r to accept/reject
    6. **Accessibility test:**
       - Tab through any page — verify visible focus indicators on all interactive elements
       - Check that buttons have consistent styling
    7. **Mobile test (optional):**
       - Open DevTools responsive mode at 375px
       - Navigate through pages — verify grids collapse to 1-2 columns
       - Verify video grid sidebar collapses to drawer
  </how-to-verify>
  <resume-signal>Type "approved" to complete Phase 12, or describe any issues to address</resume-signal>
</task>

</tasks>

<verification>
1. `npm run build` succeeds with zero errors
2. `grep -r "from 'lucide-react'" src/` returns zero results (no Lucide imports remain)
3. `grep -r "bg-white\|bg-gray-\|text-gray-\|border-gray-" src/components/ src/app/ --include="*.tsx"` returns minimal or zero results
4. All pages render in both light and dark mode
5. Navigation responsive at 375px
6. ? shortcut overlay works
7. User approves visual verification
</verification>

<success_criteria>
All pages render correctly in both light and dark modes. Navigation is mobile-responsive. Grids adapt to mobile viewports. Zero Lucide imports remain. Minimal hardcoded colours remain. User has visually verified the complete UX audit. Audit document updated with all issues resolved.
</success_criteria>

<output>
After completion, create `.planning/phases/12-ux-audit/12-12-SUMMARY.md` and update `.planning/phases/12-ux-audit/12-UX-AUDIT.md` marking all issues as fixed.
</output>
