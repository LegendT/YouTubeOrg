---
phase: 12-ux-audit
plan: 06
type: execute
wave: 2
depends_on: ["12-01"]
files_modified:
  - src/components/analysis/run-analysis-button.tsx
  - src/components/analysis/confidence-badge.tsx
  - src/components/analysis/validation-badge.tsx
  - src/components/analysis/staleness-banner.tsx
  - src/components/analysis/undo-banner.tsx
  - src/components/analysis/progress-tracker.tsx
  - src/components/analysis/analysis-loading.tsx
  - src/components/analysis/algorithm-mode-toggle.tsx
  - src/components/analysis/duplicate-report.tsx
  - src/components/analysis/keyboard-nav.tsx
  - src/components/analysis/proposal-actions.tsx
  - src/components/analysis/proposal-table.tsx
  - src/components/analysis/generate-button.tsx
  - src/components/analysis/video-list-paginated.tsx
autonomous: true

must_haves:
  truths:
    - "All analysis utility components use semantic colours — work in dark mode"
    - "All analysis utility components use Phosphor icons instead of Lucide"
    - "Confidence badges use semantic status colours (success/warning/destructive)"
    - "Loading states use Spinner component instead of Loader2"
    - "Banners (staleness, undo) use semantic colours"
  artifacts:
    - path: "src/components/analysis/confidence-badge.tsx"
      provides: "Confidence badge with semantic status colours"
    - path: "src/components/analysis/analysis-loading.tsx"
      provides: "Analysis loading state with Spinner component"
  key_links: []
---

<objective>
Migrate all remaining analysis utility and secondary components to semantic colours and Phosphor icons.

Purpose: These 14 components complete the analysis page migration. Most are small (29-274 lines) and the changes are mechanical — icon swaps and colour replacements.

Output: Complete analysis page ecosystem using semantic colours, Phosphor icons, and dark mode support.
</objective>

<execution_context>
@/Users/anthonygeorge/.claude/get-shit-done/workflows/execute-plan.md
@/Users/anthonygeorge/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-ux-audit/12-RESEARCH.md
@.planning/phases/12-ux-audit/12-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate badges, banners, and loading components</name>
  <files>
    src/components/analysis/confidence-badge.tsx
    src/components/analysis/validation-badge.tsx
    src/components/analysis/staleness-banner.tsx
    src/components/analysis/undo-banner.tsx
    src/components/analysis/progress-tracker.tsx
    src/components/analysis/analysis-loading.tsx
  </files>
  <action>
    For each component, read and replace:

    **confidence-badge.tsx (29 lines):**
    - Replace colour-coded confidence levels with semantic tokens:
      - HIGH: `bg-success/10 text-success` (was likely bg-green-*)
      - MEDIUM: `bg-warning/10 text-warning` (was likely bg-amber-*)
      - LOW: `bg-destructive/10 text-destructive` (was likely bg-red-*)

    **validation-badge.tsx (59 lines):**
    - Replace validation status colours with semantic tokens
    - Replace any Lucide icons with Phosphor equivalents

    **staleness-banner.tsx (71 lines):**
    - Replace banner colours (likely amber/yellow warning) with `bg-warning/10 text-warning border-warning/20`
    - Replace Lucide icons (AlertTriangle -> Warning from Phosphor)

    **undo-banner.tsx (98 lines):**
    - Replace banner colours with semantic tokens
    - Replace Lucide icons with Phosphor
    - Undo button should use `<Button variant="secondary">` or `<Button variant="outline">`

    **progress-tracker.tsx (62 lines):**
    - Replace progress colours with semantic tokens
    - Replace any Lucide icons with Phosphor

    **analysis-loading.tsx (274 lines):**
    - Replace ALL `Loader2` spinners with `<Spinner />` from `@/components/ui/spinner`
    - Replace all hardcoded colours with semantic tokens
    - This is the staged loading component — ensure each stage indicator uses semantic colours
    - Replace any Lucide icons with Phosphor
  </action>
  <verify>
    Run `npm run build`. Grep all 6 files for Lucide imports and hardcoded colours.
  </verify>
  <done>
    All 6 components use semantic colours and Phosphor icons. Confidence badges use success/warning/destructive tokens. Loading states use Spinner component. Banners use semantic warning/info colours.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate buttons, tables, and remaining utility components</name>
  <files>
    src/components/analysis/run-analysis-button.tsx
    src/components/analysis/algorithm-mode-toggle.tsx
    src/components/analysis/duplicate-report.tsx
    src/components/analysis/keyboard-nav.tsx
    src/components/analysis/proposal-actions.tsx
    src/components/analysis/proposal-table.tsx
    src/components/analysis/generate-button.tsx
    src/components/analysis/video-list-paginated.tsx
  </files>
  <action>
    For each component, read and replace:

    **run-analysis-button.tsx (102 lines):**
    - Replace Lucide icons with Phosphor (Play -> Play, Loader2 -> Spinner)
    - Replace hardcoded colours
    - Ensure Button variant is used correctly

    **algorithm-mode-toggle.tsx (54 lines):**
    - Replace hardcoded colours for toggle states
    - Active state: semantic accent colours
    - Inactive: muted colours

    **duplicate-report.tsx (74 lines):**
    - Replace hardcoded colours
    - Replace any Lucide icons

    **keyboard-nav.tsx (80 lines):**
    - This is a hook/utility — likely minimal visual changes
    - Replace any hardcoded colours if present

    **proposal-actions.tsx (110 lines):**
    - Replace Lucide icons (Check, X, Edit, etc.) with Phosphor equivalents
    - Replace hardcoded button colours with semantic tokens
    - Approve: `text-success`, Reject: `text-destructive`

    **proposal-table.tsx (194 lines):**
    - Replace all hardcoded colours in table rows, headers, cells
    - Table header: `text-muted-foreground` bg `bg-muted`
    - Table rows: `bg-card`, hover `bg-accent/50`
    - Replace any Lucide icons

    **generate-button.tsx (41 lines):**
    - Replace Lucide icons with Phosphor
    - Replace hardcoded colours
    - Use Button component with appropriate variant

    **video-list-paginated.tsx (293 lines):**
    - Replace hardcoded colours in video list items
    - Video metadata: `text-muted-foreground`
    - Thumbnails: `bg-muted` placeholder
    - Replace any Lucide icons with Phosphor
    - Replace any `Loader2` with `<Spinner />`
  </action>
  <verify>
    Run `npm run build`. Grep all 8 files for Lucide imports and hardcoded colours.
  </verify>
  <done>
    All 8 components use semantic colours and Phosphor icons. Zero hardcoded colours. Zero Lucide imports. Proposal actions use semantic status colours for approve/reject.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. Zero Lucide imports across all 14 files
3. Zero hardcoded colour classes across all 14 files
4. Confidence badges use success/warning/destructive semantic tokens
5. All Loader2 spinners replaced with Spinner component
</verification>

<success_criteria>
All 14 remaining analysis components migrated to Phosphor icons and semantic colours. The entire analysis page ecosystem is now dark-mode-ready with consistent visual language.
</success_criteria>

<output>
After completion, create `.planning/phases/12-ux-audit/12-06-SUMMARY.md`
</output>
