---
phase: 04-video-display-organization
plan: 05
type: execute
wave: 4
depends_on: ["04-04"]
files_modified:
  - src/components/videos/video-browse-page.tsx
  - src/components/videos/video-grid.tsx
  - src/components/videos/video-card.tsx
autonomous: false

must_haves:
  truths:
    - "User can view videos with thumbnails, titles, channel names, and duration"
    - "User can scroll through 4,000+ video list smoothly without UI freeze"
    - "User can search videos by title or channel name and see results instantly"
    - "User can filter videos by category and see only that subset"
    - "User can manually move videos between categories via select-and-move"
    - "User can select multiple videos for batch operations"
    - "User can preview video by clicking through to YouTube"
  artifacts: []
  key_links: []
---

<objective>
Verify the complete Phase 4 video browsing interface end-to-end and apply any necessary polish.

Purpose: Ensure all 7 Phase 4 success criteria are met before marking the phase complete. This plan is a human-verified checkpoint with minor fixes as needed.

Output: Verified, polished /videos page meeting all Phase 4 success criteria.
</objective>

<execution_context>
@/Users/anthonygeorge/.claude/get-shit-done/workflows/execute-plan.md
@/Users/anthonygeorge/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-video-display-organization/04-CONTEXT.md
@.planning/phases/04-video-display-organization/04-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Polish and fix any compilation or runtime issues</name>
  <files>src/components/videos/video-browse-page.tsx, src/components/videos/video-grid.tsx, src/components/videos/video-card.tsx</files>
  <action>
    1. Run `npx tsc --noEmit` and fix any remaining type errors
    2. Run `npm run build` and fix any build errors
    3. Start the dev server (`npm run dev`) and navigate to http://localhost:3001/videos
    4. Check for any console errors in the browser
    5. Fix any visual issues:
       - Grid alignment and spacing
       - Thumbnail aspect ratio
       - Duration overlay positioning
       - Category badge colours
       - Search result count display
       - Sort dropdown behaviour
       - Mobile responsiveness (1 column on narrow screens)
    6. Verify navigation link to /videos exists (add to layout.tsx or dashboard if not present)
    7. Ensure British English in all user-facing strings ("Uncategorised", "Organise", etc.)
    8. Ensure `revalidatePath('/videos')` is called in `assignVideosToCategory` and `removeVideosFromCategory` server actions
  </action>
  <verify>
    `npm run build` succeeds. No console errors at http://localhost:3001/videos.
    All user-facing text uses British English.
  </verify>
  <done>Build passes. No runtime errors. Visual layout is clean and functional.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Phase 4 video browsing interface at /videos with:
    - YouTube-style card grid with thumbnails, titles, channels, duration overlays, and category badges
    - Virtualised rendering for smooth scrolling through 4,000+ videos
    - Persistent category sidebar with video counts and "All Videos" view
    - Search with 300ms debounce, scope toggle (current category / all categories), and result count
    - Sort by date added, published date, title, channel, and duration
    - Multi-select with checkboxes and select-all
    - Move/Copy between categories with confirmation dialog for bulk operations (5+)
    - Undo toast with Cmd/Ctrl+Z support
    - Click-through to YouTube for video preview
  </what-built>
  <how-to-verify>
    1. Open http://localhost:3001/videos
    2. **VID-01:** Verify video cards show thumbnails, titles, channel names, and duration overlays
    3. **UI-05:** Scroll through the "All Videos" view — should be smooth with no freezing (4,000+ videos virtualised)
    4. **UI-06:** Observe thumbnails loading lazily as you scroll (not all at once)
    5. **VID-04:** Type a search query in the search bar — results should filter in real-time after brief debounce
    6. **VID-05:** Click a category in the sidebar — grid should show only that category's videos
    7. **VID-02:** Select 2-3 videos with checkboxes, click "Move to...", pick a target category, confirm — videos should disappear from current view
    8. **VID-03:** Use "Select All" checkbox, verify all visible videos are selected
    9. **VID-06:** Click a video thumbnail — YouTube should open in a new tab
    10. **Undo:** After a move, verify undo toast appears. Press Cmd/Ctrl+Z — videos should return.
    11. **VID-07:** Verify publish date visible on cards (relative format like "2 months ago")
    12. **Sort:** Change sort to "Title A-Z", verify cards reorder. Try "Duration" sort.
    13. **Bulk move warning:** Select 5+ videos, click "Move to..." — verify warning message in dialog
  </how-to-verify>
  <resume-signal>Type "approved" if all success criteria pass, or describe any issues found.</resume-signal>
</task>

</tasks>

<verification>
All 7 Phase 4 success criteria verified by human:
1. User can view videos with thumbnails, titles, channel names, and duration
2. User can scroll through 4,000+ video list smoothly without UI freeze
3. User can search videos by title or channel name and see results instantly
4. User can filter videos by category and see only that subset
5. User can manually move videos between categories via select-and-move
6. User can select multiple videos for batch operations
7. User can preview video by clicking through to YouTube
</verification>

<success_criteria>
- All 7 Phase 4 success criteria verified by human tester
- No console errors in browser
- Build passes without errors
- British English used throughout
- Smooth virtualised scrolling confirmed
</success_criteria>

<output>
After completion, create `.planning/phases/04-video-display-organization/04-05-SUMMARY.md`
</output>
